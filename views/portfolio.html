<!DOCTYPE html>
<html lang='en' ng-app>

<head>
	<title>Kim Greenough</title>

	<!-- STYLES -->
	<link rel='stylesheet' type='text/css' href='../styles/portfolio.css' />
	<link rel='stylesheet' type='text/css' href='../styles/templateComponents.css' />

	<!-- FONT -->
	<link href='http://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>

	<!-- SCRIPTS -->
	<!-- jQuery for bootstrap and minor animations -->
	<script src="../bower_components/jquery/dist/jquery.min.js"></script>
	<!-- Javascript for bootstrap -->
	<script src="../bower_components/angular/angular.min.js"></script>
	<script src="../controllers/portfolioController.js"></script>

	<!-- Scroll horizontally -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="../bower_components/jquery-mousewheel/jquery.mousewheel.js"></script>

	<!-- Resize the gallery width anytime the page loads or window is resized. This is also done in portfolioController::ChangeTemplate()-->
	<script>
		var resizeGallery = function(){
			var $images = $(".template-image-restrict");
			var totalWidth = 0;

			for(var i = 0; i < $images.length; ++i){
				var marginLeft = $images.eq(i).css("margin-left");
				var marginRight = $images.eq(i).css("margin-right");

				totalWidth += $images.eq(i).width() + parseInt(marginLeft.substring(0, marginLeft.length - 2)) + parseInt(marginRight.substring(0, marginRight.length - 2));
			}

			totalWidth += 10;
			$(".template-container").css("width", totalWidth + "px");
		}

		var resizeLoadIterations = 10;
		var checkExist = setInterval(function() {
		    if (resizeLoadIterations === 0) {
		    	clearInterval(checkExist);
		    }
		    resizeGallery();
		    --resizeLoadIterations;
		}, 50);

		$( window ).resize(function() {
			resizeGallery();
		});

		$(document).ready(function() {
		    $('body').on('mousewheel', function(event, delta) {
		    	if($('#thumb-container').is(":hover") === false){
		    		$( ".screen-container" ).animate({scrollLeft: $(".screen-container").scrollLeft() - delta * 121}, 30 );
		    	}	
			});
		});
	</script>
</head>

<body>
	<div id='screen-size-container' ng-controller='portfolioController'>

		<!-- Content display -->
		<div ng-include="'templates/' + currentTemplate + '.html'"></div>

		<!-- User controls -->
		<div id='gallery-flyout' ng-click='toggleGallery();' ng-class="{ 'gallery-closed-hover': galleryOpen == false }">
			<div id='gallery-title'>Gallery Nav<span id='gallery-close-button' ></span></div>
			<div id='thumb-container'>
				<div class='gallery-thumb' ng-click='scrollToX(50);' ng-repeat="thumb in thumbs[currentThumb]">
					<img src = "{{ thumb }}" ></img>
				</div>
			</div>
		</div>
		<div id='mainNav'>
			<div id='header'>
				<img src=" {{ currentPreview }} "></img>
			</div>
			<div id='content-links'>
				<a href='../index.html'>HOME</a>
				<p></p>
				<div class='linkHeaderContainer'><span class='linkHeaderText' ng-click='expandCategory(0);'>CHARACTERS</span>
					<div class='listItem' ng-mouseenter="getPreview('characters', 0);" ng-mouseleave="restorePreview();" ng-click="chooseLink('girls'); changeTemplate('template');">Girls</div>
					<div class='listItem' ng-mouseenter="getPreview('characters', 1);" ng-mouseleave="restorePreview();" ng-click="chooseLink('sketches'); changeTemplate('template_2');">Sketches</div>
					<div class='listItem' ng-mouseenter="getPreview('characters', 2);" ng-mouseleave="restorePreview();">Fan Art</div>
				</div>
				<div class='linkHeaderContainer'><span class='linkHeaderText' ng-click='expandCategory(1);'>ENVIRONMENT</span>
					<div class='listItem' ng-mouseenter="getPreview('environment', 0);" ng-mouseleave="restorePreview();">Forest</div>
					<div class='listItem' ng-mouseenter="getPreview('environment', 1);" ng-mouseleave="restorePreview();">Urban</div>
					<div class='listItem' ng-mouseenter="getPreview('environment', 2);" ng-mouseleave="restorePreview();">Fantasy</div>
				</div>
				<div class='linkHeaderContainer'><span class='linkHeaderText' ng-click='expandCategory(2);'>SKETCHES</span>
					<div class='listItem' ng-mouseenter="getPreview('sketches', 0);" ng-mouseleave="restorePreview();">Dailies</div>
					<div class='listItem' ng-mouseenter="getPreview('sketches', 1);" ng-mouseleave="restorePreview();">Paint</div>
					<div class='listItem' ng-mouseenter="getPreview('sketches', 2);" ng-mouseleave="restorePreview();">Inktober</div>
				</div>

			</div>
			<a id="contact-button" href="views/portfolio.html">CONTACT ME</a>
		</div>
	</div>
</body>

</html>